# **ğŸ§± BlockETF é¡¹ç›®éœ€æ±‚æ–‡æ¡£ï¼ˆBNB Chain + Solidity ç‰ˆï¼‰**

## **ä¸€ã€äº§å“æ¦‚è¿°**

### **1.1 äº§å“å®šä½**

**BlockETF** æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ **BNB Chain** ä¸Šçš„å»ä¸­å¿ƒåŒ–æŒ‡æ•°åŸºé‡‘å¹³å°ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡å•ä¸€ä»£å¸ï¼ˆUSDT æˆ– BUSDï¼‰ç”³è´­ç”± **Top 5 ä¸»æµåŠ å¯†èµ„äº§ï¼ˆBTCã€ETHã€XRPã€SOLã€BNBï¼‰** ç»„æˆçš„ ETF Tokenã€‚

ETF æŒä»“æ¯”ä¾‹ç¤ºä¾‹ï¼š

| **ä»£å¸** | **æƒé‡** |
| -------- | -------- |
| BTC      | 30%      |
| ETH      | 25%      |
| BNB      | 20%      |
| XRP      | 15%      |
| SOL      | 10%      |

ETF Tokenï¼ˆ**bETF-Top5**ï¼‰åæ˜ è¿™ 5 ç§èµ„äº§çš„ç»„åˆä»·å€¼ï¼Œç”¨æˆ·å¯é€šè¿‡æ™ºèƒ½åˆçº¦ä¸€é”®ç”³è´­æˆ–èµå›ï¼Œå¹¶å®æ—¶æŸ¥çœ‹å‡€å€¼ï¼ˆNAVï¼‰ã€‚

---

## **äºŒã€ç›®æ ‡ç”¨æˆ·**

| **ç”¨æˆ·ç±»å‹** | **éœ€æ±‚**               | **ç›®æ ‡**              |
| ------------ | ---------------------- | --------------------- |
| æ™®é€šæŠ•èµ„è€…   | æƒ³é•¿æœŸæŒæœ‰ä¸»æµåŠ å¯†èµ„äº§ | ä¸€é”®åˆ†æ•£é£é™©æŠ•èµ„      |
| DeFi ç”¨æˆ·    | ç†Ÿæ‚‰é’±åŒ…ä¸ DEX æ“ä½œ    | ä½æ»‘ç‚¹æŠ•èµ„ç»„åˆ        |
| DAO / é‡‘åº“   | ç®¡ç†ç»„åˆèµ„äº§           | è‡ªåŠ¨å†å¹³è¡¡ + é€æ˜è´¦æœ¬ |
| è¢«åŠ¨æŠ•èµ„è€…   | ä¸æƒ³é¢‘ç¹äº¤æ˜“           | è‡ªåŠ¨è·Ÿè¸ªå¸‚åœºèµ°åŠ¿      |

---

## **ä¸‰ã€MVP æ ¸å¿ƒåŠŸèƒ½**

### **3.1 å•å¸ç”³èµ**

- ç”¨æˆ·ä½¿ç”¨ **USDT/BUSD** ç”³è´­æˆ–èµå› ETFã€‚
- åˆçº¦æ ¹æ®å½“å‰å¸ä»·è‡ªåŠ¨å…‘æ¢ç›®æ ‡æ¯”ä¾‹èµ„äº§ã€‚
- è‡ªåŠ¨å‘è¡Œ / é”€æ¯å¯¹åº”æ•°é‡çš„ ETF Tokenã€‚

### **3.2 è‡ªåŠ¨æ¢å¸ï¼ˆSwap Aggregatorï¼‰**

- **é›†æˆ ** **1inch æˆ– PancakeSwap Router** **ã€‚**
- å®ç°è‡ªåŠ¨è·¯å¾„ä¼˜åŒ–ä¸æ»‘ç‚¹æ§åˆ¶ã€‚
- æ”¯æŒå¤šå¸ç§å…‘æ¢åˆ°ç›®æ ‡èµ„äº§ç¯®å­ã€‚

### **3.3 NAV è®¡ç®—**

- **ä½¿ç”¨ \*\***Chainlink é¢„è¨€æœº\*\* è·å–å„å¸ç§ä»·æ ¼ã€‚
- æŒ‰ç…§èµ„äº§æƒé‡å’Œ Vault æŒä»“è®¡ç®— ETF å•ä½å‡€å€¼ã€‚
- å…¬å¼€ **getNAV()** æ¥å£ä¾›å‰ç«¯å’Œåˆ†ææœåŠ¡è°ƒç”¨ã€‚

### **3.4 è‡ªåŠ¨å†å¹³è¡¡**

-
-
- æ¯ 24 å°æ—¶æ£€æµ‹ä¸€æ¬¡èµ„äº§æ¯”ä¾‹åç¦»ã€‚
- **ç”± \*\***Keeper Botï¼ˆé“¾ä¸‹è‡ªåŠ¨ä»»åŠ¡ï¼‰\*\* è°ƒç”¨åˆçº¦æ‰§è¡Œå†å¹³è¡¡ã€‚
- äº¤æ˜“é€šè¿‡ PancakeSwap è‡ªåŠ¨å®Œæˆã€‚

---

## **å››ã€æŠ€æœ¯æ¶æ„è®¾è®¡**

### **4.1 ç³»ç»Ÿæ¶æ„å›¾ï¼ˆé€»è¾‘ç»“æ„ï¼‰**

```mermaid

```

```
+---------------------------------------------+
|                ç”¨æˆ·å‰ç«¯ (React)             |
|   - ETF åˆ—è¡¨ / è¯¦æƒ…é¡µ / ç”³è´­é¡µ / ä¸ªäººä¸­å¿ƒ    |
|   - é’±åŒ…è¿æ¥ (MetaMask / WalletConnect)     |
+----------------------|----------------------+
                       |
                       v
+---------------------------------------------+
|            åç«¯æœåŠ¡ (Node.js / NestJS)      |
|   - NAV ç¼“å­˜ä¸å†å²è®°å½•                       |
|   - Keeper Bot (å†å¹³è¡¡è§¦å‘å™¨)                |
|   - Price Feed Proxy                        |
+----------------------|----------------------+
                       |
                       v
+---------------------------------------------+
|            æ™ºèƒ½åˆçº¦å±‚ (Solidity)            |
|   ETFVault.sol         - èµ„äº§æ‰˜ç®¡ä¸å†å¹³è¡¡    |
|   ETFToken.sol         - ETF ERC20 ä»£å¸å‘è¡Œ  |
|   ETFRouter.sol        - ç”³è´­èµå›é€»è¾‘        |
|   PriceOracle.sol      - é¢„è¨€æœºé€‚é…          |
|   Keeper.sol           - è‡ªåŠ¨å†å¹³è¡¡å…¥å£      |
+---------------------------------------------+
                       |
                       v
+---------------------------------------------+
|               åŸºç¡€è®¾æ–½å±‚                     |
|   - Chainlink Oracle (BNB)                  |
|   - PancakeSwap / 1inch Aggregator          |
|   - BNB Chain (BSC Mainnet / Testnet)       |
+---------------------------------------------+
```

---

### **4.2 æ™ºèƒ½åˆçº¦ç›®å½•ç»“æ„**

```
contracts/
 â”œâ”€â”€ ETFVault.sol         # ç®¡ç†èµ„äº§æ± ã€æ¯”ä¾‹ä¸å…‘æ¢
 â”œâ”€â”€ ETFRouter.sol        # ç”³è´­èµå›é€»è¾‘å…¥å£
 â”œâ”€â”€ ETFToken.sol         # ERC20ä»£å¸ (bETF-Top5)
 â”œâ”€â”€ PriceOracle.sol      # è°ƒç”¨ Chainlink ä»·æ ¼å–‚ä»·
 â”œâ”€â”€ Keeper.sol           # å®šæœŸå†å¹³è¡¡æ‰§è¡Œåˆçº¦
 â””â”€â”€ interfaces/
     â”œâ”€â”€ IPancakeRouter.sol
     â”œâ”€â”€ IChainlinkOracle.sol
     â””â”€â”€ IERC20.sol
```

### **4.3 æŠ€æœ¯æ ˆé€‰æ‹©**

| **å±‚çº§**         | **æŠ€æœ¯**                                       | **è¯´æ˜**      |
| ---------------- | ---------------------------------------------- | ------------- |
| **ä¸»é“¾**         | **BNB Chain (EVM)**                            | ä¸»éƒ¨ç½²ç½‘ç»œ    |
| **æ™ºèƒ½åˆçº¦**     | **Solidity (v0.8.x)**                          | ä¸»å¼€å‘è¯­è¨€    |
| **å¼€å‘æ¡†æ¶**     | **Foundry / Hardhat**                          | æµ‹è¯•ä¸éƒ¨ç½²    |
| **å‰ç«¯**         | **Next.js + wagmi + RainbowKit + TailwindCSS** | é’±åŒ…é›†æˆä¸ UI |
| **åç«¯æœåŠ¡**     | **NestJS + PostgreSQL + Redis**                | NAV ç¼“å­˜ã€API |
| **é¢„è¨€æœº**       | **Chainlink**                                  | å®æ—¶ä»·æ ¼è·å–  |
| **DEX é›†æˆ**     | **PancakeSwap / 1inch Aggregator**             | è‡ªåŠ¨æ¢å¸      |
| **ä»»åŠ¡è‡ªåŠ¨åŒ–**   | **Node.js Keeper Bot + CronJob**               | å®šæœŸå†å¹³è¡¡    |
| **éƒ¨ç½²ä¸ CI/CD** | **Docker + GitHub Actions + AWS / Cloudflare** | è‡ªåŠ¨åŒ–éƒ¨ç½²    |

---

## **äº”ã€ç”¨æˆ·ç•Œé¢æµç¨‹**

```
[é¦–é¡µ]
  â†“
[ETF åˆ—è¡¨é¡µ] â†’ æŸ¥çœ‹ETFè¯¦æƒ… â†’ ç‚¹å‡»â€œç”³è´­â€
  â†“
[ç”³è´­é¡µ]
  - è¾“å…¥ç”³è´­é‡‘é¢ï¼ˆUSDTï¼‰
  - æ˜¾ç¤ºç›®æ ‡èµ„äº§åˆ†é…æ¯”ä¾‹
  - ç”¨æˆ·ç¡®è®¤ç­¾å
  â†“
[äº¤æ˜“ç¡®è®¤é¡µ]
  - æ˜¾ç¤ºETF Tokenä½™é¢ã€äº¤æ˜“å“ˆå¸Œ
  â†“
[ä¸ªäººä¸­å¿ƒ]
  - æŸ¥çœ‹ETFæŒä»“
  - æŸ¥è¯¢å®æ—¶NAV
  - å‘èµ·èµå›æ“ä½œ
```

---

## **å…­ã€å¼€å‘é‡Œç¨‹ç¢‘**

| **é˜¶æ®µ**                          | **æ—¶é—´å‘¨æœŸ** | **ç›®æ ‡**                          | **ä¸»è¦äº¤ä»˜ç‰©** |
| --------------------------------- | ------------ | --------------------------------- | -------------- |
| **é˜¶æ®µ 1ï¼šMVP åŸå‹**              | ç¬¬ 1â€“2 ä¸ªæœˆ  | å®ç°å•å¸ç”³è´­ã€èµå›ã€NAV æŸ¥è¯¢      | Testnet Demo   |
| **é˜¶æ®µ 2ï¼šè‡ªåŠ¨æ¢å¸ + å‰ç«¯ä¸Šçº¿**   | ç¬¬ 3â€“4 ä¸ªæœˆ  | é›†æˆ PancakeSwapï¼Œæ„å»º DApp UI    | Beta ç‰ˆæœ¬      |
| **é˜¶æ®µ 3ï¼šè‡ªåŠ¨å†å¹³è¡¡ + ä¸»ç½‘éƒ¨ç½²** | ç¬¬ 5â€“6 ä¸ªæœˆ  | å®Œæ•´ ETF æµç¨‹ + Keeper Bot è‡ªåŠ¨åŒ– | ä¸»ç½‘æ­£å¼ä¸Šçº¿   |

---

## **ä¸ƒã€æˆåŠŸæŒ‡æ ‡ï¼ˆKPIï¼‰**

| **é˜¶æ®µ**        | **æŒ‡æ ‡**          | **ç›®æ ‡å€¼** |
| --------------- | ----------------- | ---------- |
| çŸ­æœŸï¼ˆ3 ä¸ªæœˆï¼‰  | æµ‹è¯•ç”¨æˆ·æ•°        | â‰¥ 500      |
| ä¸­æœŸï¼ˆ6 ä¸ªæœˆï¼‰  | ä¸»ç½‘é”ä»“é‡ï¼ˆTVLï¼‰ | â‰¥ $1M      |
| é•¿æœŸï¼ˆ12 ä¸ªæœˆï¼‰ | æ”¯æŒ ETF äº§å“æ•°é‡ | â‰¥ 3 ä¸ª     |
| é•¿æœŸ            | å¹´åŒ–ç•™å­˜ç‡        | â‰¥ 60%      |
| é•¿æœŸ            | æ—¥æ´»äº¤æ˜“é‡        | â‰¥ 300 ç¬”   |

---

## **å…«ã€é£é™©åˆ†æä¸åº”å¯¹ç­–ç•¥**

| **é£é™©ç±»åˆ«**       | **æè¿°**                   | **åº”å¯¹ç­–ç•¥**                              |
| ------------------ | -------------------------- | ----------------------------------------- |
| **æ™ºèƒ½åˆçº¦é£é™©**   | é€»è¾‘é”™è¯¯æˆ–æ¼æ´å¯¼è‡´èµ„äº§æŸå¤± | å¤–éƒ¨å®¡è®¡ï¼ˆCertiK / PeckShieldï¼‰+ å¤šç­¾æ§åˆ¶ |
| **ä»·æ ¼é¢„è¨€æœºé£é™©** | Chainlink æ•°æ®å¼‚å¸¸         | å†—ä½™å¤‡ä»½ï¼ˆè‡ªå»ºå–‚ä»·æˆ– API å¤‡æ´ï¼‰           |
| **DEX æµåŠ¨æ€§é£é™©** | PancakeSwap æ·±åº¦ä¸è¶³       | ä½¿ç”¨ 1inch èšåˆå™¨è‡ªåŠ¨åˆ†æµ                 |
| **å†å¹³è¡¡é¢‘ç‡é£é™©** | é«˜é¢‘æ‰§è¡Œå¯¼è‡´ Gas æˆæœ¬é«˜    | è°ƒæ•´å†å¹³è¡¡è§¦å‘é˜ˆå€¼ã€æ‰¹é‡äº¤æ˜“              |
| **å¸‚åœºé£é™©**       | èµ„äº§æ³¢åŠ¨å¯¼è‡´ NAV å¼‚å¸¸      | é€æ˜æŠ«éœ² + é¢„è­¦æœºåˆ¶                       |
| **åˆè§„é£é™©**       | ETF åç§°è§¦åŠè¯åˆ¸ç›‘ç®¡       | ä½¿ç”¨ â€œIndex Basket Tokenâ€ å‘½åé¿å…äº‰è®®    |

---

## **ä¹ã€æœªæ¥æ‰©å±•æ–¹å‘**

- å¤š ETF äº§å“çº¿ï¼ˆå¦‚ bETF-BlueChipã€bETF-Layer2ï¼‰
- å¢åŠ æ”¶ç›Šåˆ†é…åŠŸèƒ½ï¼ˆè´¨æŠ¼æˆ–å€Ÿè´·æ”¶ç›Šè‡ªåŠ¨å¤æŠ•ï¼‰
- è·¨é“¾ ETF ç‰ˆæœ¬ï¼ˆä½¿ç”¨ LayerZero / Wormholeï¼‰
- DAO æŠ•ç¥¨å†³å®šèµ„äº§æƒé‡
- å¢åŠ ã€Œç¨³å®šå¸ ETFã€ã€ã€ŒDeFi æŒ‡æ•°ã€ç­‰ä¸»é¢˜äº§å“

# åº•å±‚åˆçº¦è®¾è®¡

## ä¸»è¦åŠŸèƒ½

**1. èµ„äº§ç®¡ç†**

**ä¸»è¦åŒ…æ‹¬åˆå§‹åŒ–å’Œä¿®æ”¹èµ„äº§é…ç½®ï¼ŒåŒ…æ‹¬åº•å±‚èµ„äº§åˆ—è¡¨å’Œå¯¹åº”çš„æƒé‡ã€‚**

**2. ä»½é¢ä»£å¸çš„é“¸é€ å’Œèµå›**

**ç”¨æˆ·å¯ä»¥é€šè¿‡æŠ•å…¥ä¸€ç¯®å­åº•å±‚èµ„äº§æ¥é“¸é€ å¯¹åº”æ•°é‡çš„ ETF ä»½é¢ä»£å¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡èµå›ä»½é¢ä»£å¸æ¥æ¢å›ç­‰å€¼çš„åº•å±‚èµ„äº§ã€‚**

**3. æ‰‹ç»­è´¹çš„è®¾ç½®å’Œæ”¶å–**

**è´¹ç‡ç»“æ„è®¾ç½®äº†èµå›è´¹å’Œç®¡ç†è´¹ï¼Œä»¥ä»½é¢çš„æ–¹å¼è¿›è¡Œæ”¶å–ã€‚**

**4. å†å¹³è¡¡çš„åº•å±‚é€»è¾‘**

**é‡‡ç”¨äº†ç±»ä¼¼é—ªç”µè´·çš„æ–¹å¼æ‰§è¡Œå†å¹³è¡¡ç­–ç•¥ï¼Œç”±ä¸Šå±‚åˆçº¦å†³å®šå…·ä½“çš„æ‰§è¡Œç­–ç•¥ï¼Œåº•å±‚å¯¹ç»“æœè¿›è¡Œæ ¡éªŒã€‚**

---

## **ğŸ§  ä¸€ã€æ ¸å¿ƒç†å¿µ â€” åº•å±‚å®Œå…¨ç‹¬ç«‹**

ä½ å®šä¹‰çš„ç†å¿µï¼š

> â€œBlockETF ä½œä¸ºåº•å±‚æ ¸å¿ƒåˆçº¦ï¼Œå®Œå…¨ç‹¬ç«‹ï¼›ä¸Šå±‚ï¼ˆRouter/Managerï¼‰è°ƒç”¨åº•å±‚ï¼Œåº•å±‚ä¸çŸ¥é“ä¸Šå±‚çš„å­˜åœ¨ã€‚â€

è¿™å¥è¯éå¸¸é‡è¦ï¼Œå®ƒæ„å‘³ç€ï¼š

- **BlockETF** ä¸ä¾èµ–ä»»ä½•ä¸Šå±‚é€»è¾‘ã€‚
- ä¸Šå±‚å¯ä»¥å˜åŒ–ã€æ‰©å±•æˆ–æ›¿æ¢ï¼ˆä¾‹å¦‚æ¢ DEXã€æ”¹ç­–ç•¥ï¼‰ã€‚
- **BlockETF** æˆä¸ºçœŸæ­£ç¨³å®šçš„â€œ **èµ„äº§å®¹å™¨ + ä»½é¢é€»è¾‘æ ¸å¿ƒ** **â€ã€‚**

è¿™ç§æ€æƒ³å’Œ **Uniswap V3ã€Curveã€Aave** ç­‰æˆç†Ÿ DeFi åè®®çš„æ¶æ„æ˜¯ä¸€è‡´çš„ï¼š

> â€œæ ¸å¿ƒæ± é€»è¾‘ç¨³å®šï¼Œå¤–å›´é€»è¾‘çµæ´»å¯æ¢ã€‚â€

---

## **ğŸ§± äºŒã€æ”¹è¿›æ¶æ„ç»“æ„å›¾**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç”¨æˆ· / å‰ç«¯ / DApp       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ETFManagerï¼ˆä¸Šå±‚åˆçº¦ï¼‰     â”‚
â”‚ - è°ƒç”¨ BlockETF.mint/burn     â”‚
â”‚ - æ‰§è¡Œ Swap / è®¡ç®—æœ€ä¼˜è·¯å¾„     â”‚
â”‚ - é›†æˆ PancakeSwap Router     â”‚
â”‚ - ç”³è´­ / èµå› / NAVè®¡ç®—        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ è°ƒç”¨æ¥å£
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       BlockETFï¼ˆåº•å±‚æ ¸å¿ƒï¼‰     â”‚
â”‚ - ERC20ä»½é¢ä»£å¸              â”‚
â”‚ - èµ„äº§æ¥æ”¶ä¸æå–              â”‚
â”‚ - mint / burn                 â”‚
â”‚ - ç®¡ç†è´¹ç´¯ç§¯é€»è¾‘              â”‚
â”‚ - ä¸çŸ¥é“DEXæˆ–Managerçš„å­˜åœ¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **âš™ï¸ ä¸‰ã€æ¨¡å—èŒè´£åˆ’åˆ†**

### **ğŸŸ¢ 1ï¸âƒ£** \*\*\*\*

### **BlockETF**

### **ï¼ˆæ ¸å¿ƒåˆçº¦ï¼‰**

**è§’è‰²å®šä½ï¼šåº•å±‚èµ„äº§ä¸ä»½é¢å®¹å™¨**

**ä¸»è¦èŒè´£ï¼š**

- ç»§æ‰¿ **ERC20** â†’ å®ç°ä»½é¢ä»£å¸ï¼›
- **æä¾› **mint(address to, uint amount)** å’Œ **burn(address from, uint amount)**ï¼›**
- æ¥æ”¶ç”¨æˆ·èµ„äº§ï¼ˆUSDTã€BNBã€ETH ç­‰ï¼‰ï¼›
- æ”¯æŒä»æ± ä¸­æå–èµ„äº§ï¼›
- ç´¯è®¡ç®¡ç†è´¹ï¼›
- ç®¡ç†èµ„äº§é…ç½®ï¼ˆè®°å½•æƒé‡ã€æŒä»“æ¯”ä¾‹ï¼‰ã€‚

**ä¸åšçš„äº‹ï¼š**

- âŒ ä¸è¿›è¡Œ swapï¼›
- âŒ ä¸æ¥å…¥ PancakeSwapï¼›
- âŒ ä¸è®¡ç®—æœ€ä¼˜è·¯å¾„ï¼›
- âŒ ä¸å…³å¿ƒè°è°ƒç”¨ï¼ŒåªéªŒè¯æƒé™ã€‚

**ğŸ§  \*\***å®ƒæ˜¯â€œèµ„äº§é‡‘åº“ + ä»½é¢å‡­è¯â€ï¼Œè€Œä¸æ˜¯äº¤æ˜“æ‰§è¡Œè€…ã€‚\*\*

---

### **ğŸŸ¢ 2ï¸âƒ£** \*\*\*\*

### **ETFManager**

### **ï¼ˆä¸Šå±‚ä¸šåŠ¡åˆçº¦ï¼‰**

**è§’è‰²å®šä½ï¼šæ™ºèƒ½åŸºé‡‘ç®¡ç†é€»è¾‘å±‚**

**ä¸»è¦èŒè´£ï¼š**

- å¤„ç†ç”¨æˆ·äº¤äº’ï¼ˆdepositã€withdrawï¼‰ï¼›
- è°ƒç”¨ PancakeSwap Router æ‰§è¡Œèµ„äº§æ¢è´­ï¼›
- è®¡ç®—ç”³è´­/èµå›å¯¹åº”ä»½é¢ï¼›
- **è°ƒç”¨åº•å±‚ **BlockETF.mint()** æˆ– **burn()**ï¼›**
- ç®¡ç†è´¹ç»“ç®—ä¸ NAV è®¡ç®—ï¼›
- å¯ä»¥æ‰©å±•æ¥å…¥å…¶ä»– DEXï¼ˆå¦‚ Uniswapã€ApeSwapï¼‰ï¼›
- å¯ä»¥æ·»åŠ ä¸åŒæŠ•èµ„ç­–ç•¥æ¨¡å—ï¼ˆå¦‚å›ºå®šæ¯”ä¾‹ã€åŠ¨æ€å†å¹³è¡¡ï¼‰ã€‚

**ğŸ§  \*\***å®ƒæ˜¯ç­–ç•¥æ‰§è¡Œå±‚ï¼Œå¯æ›¿æ¢ã€å¯æ‰©å±•ã€‚\*\*

---

## **ğŸ§© å››ã€æ ¸å¿ƒæ”¹è¿›ç‚¹**

| **å¯¹æ¯”ç»´åº¦**     | **æ—§æ¶æ„ï¼ˆVault ä¸»å¯¼ï¼‰**         | **æ–°æ¶æ„ï¼ˆç‹¬ç«‹æ ¸å¿ƒï¼‰**         |
| ---------------- | -------------------------------- | ------------------------------ |
| **æ ¸å¿ƒé€»è¾‘ä½ç½®** | Vault æŒæ¡ä¸€åˆ‡ï¼ˆèµ„äº§+ä»½é¢+äº¤æ˜“ï¼‰ | BlockETF ä»…æŒæ¡ä»½é¢å’Œèµ„äº§å­˜å‚¨  |
| **ä¾èµ–å…³ç³»**     | Token ä¾èµ– Vault                 | Manager ä¾èµ– ETF               |
| **å¯æ‰©å±•æ€§**     | æ”¹ Vault ä¼šå½±å“ä»½é¢é€»è¾‘          | æ”¹ Manager ä¸å½±å“åº•å±‚ ETF      |
| **å®‰å…¨æ€§**       | Vault é”™è¯¯å¯èƒ½å½±å“ä»£å¸           | ETF æƒé™å•ä¸€ï¼Œé€»è¾‘æ›´çº¯å‡€       |
| **å¯ç»´æŠ¤æ€§**     | é€»è¾‘æ··åˆï¼Œå‡çº§å¤æ‚               | åˆ†å±‚æ¸…æ™°ï¼Œç‹¬ç«‹æµ‹è¯•             |
| **DEX ä¾èµ–**     | Vault è€¦åˆ Pancake               | Manager å°è£… DEX æ¥å£          |
| **å‡çº§æ–¹å¼**     | Vault é€šè¿‡ Proxy                 | Manager å¯å¤šç‰ˆæœ¬å…±å­˜ï¼ŒETF ç‹¬ç«‹ |

---

## **ğŸ”’ äº”ã€å®‰å…¨ä¼˜åŠ¿**

è¿™ç§æ¶æ„æ˜¾è‘—é™ä½äº†æƒé™é£é™©ï¼š

1. **BlockETF æƒé™æœ€å°åŒ–**
   åªå…è®¸è¢«æˆæƒçš„ Manager è°ƒç”¨ **mint()** å’Œ **burn()**ï¼›
   **é€šè¿‡ **AccessControl** æˆ– **Ownable** é™åˆ¶ã€‚**

```
modifier onlyManager() {
    require(managers[msg.sender], "Not authorized");
    _;
}
```

1.
2. **Manager å¯çƒ­æ’æ‹”ã€å¯æ›¿æ¢**
   å¯ä»¥æ³¨å†Œå¤šä¸ªç­–ç•¥ç®¡ç†åˆçº¦ï¼Œçµæ´»éƒ¨ç½²æ–°ç­–ç•¥è€Œä¸æ”¹åº•å±‚é€»è¾‘ã€‚

```
function setManager(address _manager, bool _active) external onlyOwner;
```

2.
3. **BlockETF æ°¸ä¸å‡çº§ï¼ˆimmutableï¼‰**
   ä¸€æ—¦éƒ¨ç½²å®Œæˆï¼Œä¸å…è®¸é€»è¾‘å‡çº§ï¼›
   åªæ¥å—è°ƒç”¨ï¼Œä¸å‘èµ·è°ƒç”¨ï¼›
   èµ„äº§å®‰å…¨æ€§æé«˜ã€‚

---

## **ğŸ§  å…­ã€è®¾è®¡å“²å­¦ç±»æ¯”**

| **ç±»æ¯”å¯¹è±¡** | **BlockETF**    | **ETFManager**        |
| ------------ | --------------- | --------------------- |
| é“¶è¡Œä½“ç³»     | é“¶è¡Œé‡‘åº“        | æŸœå°+ç³»ç»Ÿ             |
| æ“ä½œç³»ç»Ÿ     | å†…æ ¸ (Kernel)   | ç”¨æˆ·ç©ºé—´ (Userland)   |
| DeFi åè®®    | Uniswap V3 Pool | Router / Swap Manager |

**ğŸ‘‰ \*\***é‡‘åº“ï¼ˆETFï¼‰ä¸è®¤è¯†è°åœ¨ç”¨å®ƒï¼Œåªè´Ÿè´£ä¿å­˜å’Œè®¡æ•°ã€‚\*\*

**ğŸ‘‰ \*\***Router/Manager æ˜¯ç­–ç•¥å’Œä¸šåŠ¡å±‚ï¼Œå¯ä»¥ä¸æ–­æ¼”åŒ–ã€‚\*\*

---

## **ğŸš€ ä¸ƒã€æœªæ¥æ‰©å±•æ½œåŠ›**

è¿™ç§â€œåº•å±‚ç‹¬ç«‹ + ä¸Šå±‚å¯æ’æ‹”â€çš„æ¶æ„ï¼Œéå¸¸é€‚åˆæœªæ¥æ‰©å±•ï¼š

- âœ… **æ”¯æŒå¤šç­–ç•¥ç»„åˆç®¡ç†**ï¼ˆä¸åŒ Manager å¯¹åº”ä¸åŒç­–ç•¥ï¼‰
- âœ… **æ”¯æŒè·¨é“¾èµ„äº§æ‰˜ç®¡**ï¼ˆåº•å±‚é‡‘åº“ä¸åŠ¨ï¼Œä¸Šå±‚è·¨é“¾è°ƒç”¨ï¼‰
- âœ… **æ”¯æŒå¤šå¸ç§ ETF äº§å“**ï¼ˆä¸€ä¸ªæ ¸å¿ƒæ¡†æ¶ï¼Œå¤šç§ Manager é…ç½®ï¼‰
- âœ… **å…¼å®¹æ²»ç†æ¨¡å—ï¼ˆDAOï¼‰**ï¼Œé€šè¿‡ DAO å†³å®š Manager åˆ‡æ¢ã€‚

---

## **âš ï¸ å…«ã€éœ€è¦æ³¨æ„çš„è®¾è®¡ç»†èŠ‚**

1. **mint/burn æƒé™ç®¡ç†**
   - **BlockETF** ä¸åº”å…è®¸ä»»ä½•äººç›´æ¥ mintï¼›
   - åº”é€šè¿‡ Manager ç™½åå•æœºåˆ¶ã€‚
2. **èµ„äº§æ¥æ”¶å‡½æ•°**
   - **å¿…é¡»ä¸¥æ ¼æ£€æŸ¥ **msg.sender**ï¼›**
   - é˜²æ­¢æ¶æ„ä»£å¸æ³¨å…¥é‡‘åº“ï¼ˆæ±¡æŸ“èµ„äº§æ± ï¼‰ã€‚
3. **NAV è®¡ç®—ä¸€è‡´æ€§**
   - NAV ä¸åº”ç”±åº•å±‚è®¡ç®—ï¼›
   - åº”ç”± Manager æˆ–å¤–éƒ¨ Oracle è®¡ç®—åå†ä¼ å…¥ã€‚
4. **äº‹ä»¶è¿½è¸ª**
   - BlockETF** å‘å‡ºäº‹ä»¶ **Minted**, **Burned**, **AssetDeposited**ï¼›**
   - ä¸Šå±‚åˆçº¦ç›‘å¬è¿™äº›äº‹ä»¶æ¥å¯¹è´¦ã€‚

---

## **âœ… ä¹ã€æ€»ç»“ä¸€å¥è¯**

> **BlockETF æ˜¯â€œä¸å¯å˜çš„åº•å±‚é‡‘åº“â€ï¼ŒETFManager æ˜¯â€œå¯æ¼”åŒ–çš„ç­–ç•¥å¤§è„‘â€ã€‚**

> è¿™ç§æ¶æ„é€šè¿‡â€œä¸‹å±‚ç¨³å®šï¼Œä¸Šå±‚å¯å˜â€å®ç°äº†ï¼š

> **é«˜å®‰å…¨æ€§ + é«˜æ‰©å±•æ€§ + æ¨¡å—è§£è€¦ + æœªæ¥å…¼å®¹æ€§ã€‚**

```mermaid

graph TD

%% ç”¨æˆ·ä¸å‰ç«¯
U[ç”¨æˆ· / å‰ç«¯ / å…¶ä»–åˆçº¦] --> M[ETFManager<br/>ä¸Šå±‚ä¸šåŠ¡åˆçº¦]

%% ä¸Šå±‚é€»è¾‘
M -->|è°ƒç”¨mint/burn| B[BlockETF<br/>åº•å±‚æ ¸å¿ƒåˆçº¦]
M -->|äº¤æ˜“èµ„äº§| D[PancakeSwap Router<br/>å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€]
M -->|è·å–ä»·æ ¼| O[PriceOracle<br/>ä»·æ ¼é¢„è¨€æœº]

%% åº•å±‚æ ¸å¿ƒåˆçº¦åŠŸèƒ½
B -->|é“¸é€ /é”€æ¯| T[ERC20 ä»½é¢ä»£å¸<br/>ç»§æ‰¿è‡ª ERC20 æ ‡å‡†]
B -->|èµ„äº§æ‰˜ç®¡| A[åº•å±‚èµ„äº§æ± <br/>BNB/USDT/ETH ç­‰]

%% æ¶æ„åˆ†å±‚
subgraph ä¸šåŠ¡é€»è¾‘å±‚
    M
    D
    O
end

subgraph æ ¸å¿ƒåˆçº¦å±‚
    B
    T
    A
end

%% æ ·å¼å®šä¹‰
U:::user
M:::manager
B:::vault
D:::dex
O:::oracle
T:::token
A:::asset

classDef user fill:#e0f7fa,stroke:#00acc1,stroke-width:2px;
classDef manager fill:#e8f5e9,stroke:#43a047,stroke-width:2px;
classDef vault fill:#fff3e0,stroke:#fb8c00,stroke-width:2px;
classDef dex fill:#ede7f6,stroke:#5e35b1,stroke-width:2px;
classDef oracle fill:#f3e5f5,stroke:#8e24aa,stroke-width:2px;
classDef token fill:#fce4ec,stroke:#d81b60,stroke-width:2px;
classDef asset fill:#f1f8e9,stroke:#558b2f,stroke-width:2px;
```
